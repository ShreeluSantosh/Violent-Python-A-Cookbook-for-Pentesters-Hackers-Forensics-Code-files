import zipfile, os

def extractfile(zfile, password):
    try:
        zfile.extractall(pwd = password.encode("utf-8"))
        return True
    except:
        return False

def main():
    zfile = zipfile.ZipFile("evil.zip")
    passfile = open("dictionary.txt")
    for line in passfile.readlines():
        password = line.strip("\n")
        guess = extractfile(zfile, password)
        if guess:
            print("[+] Password =", password, "\n")
            print("[+] The contents of the zip file can be viewed in this directory:")
            print(os.getcwd())
            exit(0)
    print("[-] Password not found; unable to extract files from Zip folder")
if __name__ == '__main__':
    main()